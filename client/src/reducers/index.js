
import { ActionTypes } from "redux-simple-websocket"
import { OPEN_URL, CLOSE_VIEW } from '../actions'

const defaultModel = {
   "shapes":[
      {
         "id":"1f591b29-a875-48c4-8259-aaf2470cc83b",
         "vertices":[
            {
               "x":0.30901699437494745,
               "y":-0.8090169943749475,
               "z":0.6180339887498949
            },
            {
               "x":0.8090169943749475,
               "y":-0.6180339887498949,
               "z":0.30901699437494745
            },
            {
               "x":0.6180339887498949,
               "y":-0.30901699437494745,
               "z":0.8090169943749475
            },
            {
               "x":1,
               "y":0.30901699437494745,
               "z":0.19098300562505255
            },
            {
               "x":0.8090169943749475,
               "y":0.6180339887498949,
               "z":0.30901699437494745
            },
            {
               "x":0.6180339887498949,
               "y":0.30901699437494745,
               "z":0.8090169943749475
            },
            {
               "x":0.8090169943749475,
               "y":0,
               "z":0.6909830056250525
            },
            {
               "x":0.19098300562505255,
               "y":-1,
               "z":0.30901699437494745
            },
            {
               "x":-0.19098300562505255,
               "y":-1,
               "z":0.30901699437494745
            },
            {
               "x":-0.19098300562505255,
               "y":-1,
               "z":-0.30901699437494745
            },
            {
               "x":0.19098300562505255,
               "y":-1,
               "z":-0.30901699437494745
            },
            {
               "x":1,
               "y":-0.30901699437494745,
               "z":-0.19098300562505255
            },
            {
               "x":0.8090169943749475,
               "y":-0.6180339887498949,
               "z":-0.30901699437494745
            },
            {
               "x":0.6180339887498949,
               "y":-0.30901699437494745,
               "z":-0.8090169943749475
            },
            {
               "x":0.8090169943749475,
               "y":0,
               "z":-0.6909830056250525
            },
            {
               "x":0,
               "y":0.6909830056250525,
               "z":-0.8090169943749475
            },
            {
               "x":0.30901699437494745,
               "y":0.8090169943749475,
               "z":-0.6180339887498949
            },
            {
               "x":0.6180339887498949,
               "y":0.30901699437494745,
               "z":-0.8090169943749475
            },
            {
               "x":0.30901699437494745,
               "y":0.19098300562505255,
               "z":-1
            },
            {
               "x":1,
               "y":0.30901699437494745,
               "z":-0.19098300562505255
            },
            {
               "x":-0.30901699437494745,
               "y":-0.8090169943749475,
               "z":0.6180339887498949
            },
            {
               "x":0,
               "y":-0.6909830056250525,
               "z":0.8090169943749475
            },
            {
               "x":0.8090169943749475,
               "y":0.6180339887498949,
               "z":-0.30901699437494745
            },
            {
               "x":0.6909830056250525,
               "y":0.8090169943749475,
               "z":0
            },
            {
               "x":-0.6909830056250525,
               "y":0.8090169943749475,
               "z":0
            },
            {
               "x":-0.8090169943749475,
               "y":0.6180339887498949,
               "z":0.30901699437494745
            },
            {
               "x":-0.30901699437494745,
               "y":0.8090169943749475,
               "z":0.6180339887498949
            },
            {
               "x":-0.19098300562505255,
               "y":1,
               "z":0.30901699437494745
            },
            {
               "x":0.30901699437494745,
               "y":-0.19098300562505255,
               "z":-1
            },
            {
               "x":0.19098300562505255,
               "y":1,
               "z":0.30901699437494745
            },
            {
               "x":0.30901699437494745,
               "y":0.8090169943749475,
               "z":0.6180339887498949
            },
            {
               "x":-0.8090169943749475,
               "y":-0.6180339887498949,
               "z":0.30901699437494745
            },
            {
               "x":-0.6909830056250525,
               "y":-0.8090169943749475,
               "z":0
            },
            {
               "x":0,
               "y":0.6909830056250525,
               "z":0.8090169943749475
            },
            {
               "x":0.30901699437494745,
               "y":-0.8090169943749475,
               "z":-0.6180339887498949
            },
            {
               "x":0,
               "y":-0.6909830056250525,
               "z":-0.8090169943749475
            },
            {
               "x":-1,
               "y":0.30901699437494745,
               "z":0.19098300562505255
            },
            {
               "x":-0.8090169943749475,
               "y":0,
               "z":0.6909830056250525
            },
            {
               "x":-0.6180339887498949,
               "y":0.30901699437494745,
               "z":0.8090169943749475
            },
            {
               "x":1,
               "y":-0.30901699437494745,
               "z":0.19098300562505255
            },
            {
               "x":-0.30901699437494745,
               "y":-0.8090169943749475,
               "z":-0.6180339887498949
            },
            {
               "x":-1,
               "y":0.30901699437494745,
               "z":-0.19098300562505255
            },
            {
               "x":-1,
               "y":-0.30901699437494745,
               "z":-0.19098300562505255
            },
            {
               "x":-1,
               "y":-0.30901699437494745,
               "z":0.19098300562505255
            },
            {
               "x":0.19098300562505255,
               "y":1,
               "z":-0.30901699437494745
            },
            {
               "x":-0.8090169943749475,
               "y":0.6180339887498949,
               "z":-0.30901699437494745
            },
            {
               "x":-0.19098300562505255,
               "y":1,
               "z":-0.30901699437494745
            },
            {
               "x":-0.30901699437494745,
               "y":0.8090169943749475,
               "z":-0.6180339887498949
            },
            {
               "x":-0.6180339887498949,
               "y":-0.30901699437494745,
               "z":0.8090169943749475
            },
            {
               "x":0.30901699437494745,
               "y":0.19098300562505255,
               "z":1
            },
            {
               "x":-0.30901699437494745,
               "y":0.19098300562505255,
               "z":-1
            },
            {
               "x":-0.30901699437494745,
               "y":0.19098300562505255,
               "z":1
            },
            {
               "x":-0.30901699437494745,
               "y":-0.19098300562505255,
               "z":1
            },
            {
               "x":0.30901699437494745,
               "y":-0.19098300562505255,
               "z":1
            },
            {
               "x":0.6909830056250525,
               "y":-0.8090169943749475,
               "z":0
            },
            {
               "x":-0.8090169943749475,
               "y":0,
               "z":-0.6909830056250525
            },
            {
               "x":-0.6180339887498949,
               "y":-0.30901699437494745,
               "z":-0.8090169943749475
            },
            {
               "x":-0.30901699437494745,
               "y":-0.19098300562505255,
               "z":-1
            },
            {
               "x":-0.6180339887498949,
               "y":0.30901699437494745,
               "z":-0.8090169943749475
            },
            {
               "x":-0.8090169943749475,
               "y":-0.6180339887498949,
               "z":-0.30901699437494745
            }
         ],
         "faces":[
            {
               "vertices":[
                  9,
                  40,
                  35
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  9,
                  35,
                  34
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  9,
                  34,
                  10
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  0,
                  1,
                  2
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.19098300562505255,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  33,
                  51,
                  49
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":0.30901699437494745
               }
            },
            {
               "vertices":[
                  25,
                  36,
                  37
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  25,
                  37,
                  38
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  41,
                  55,
                  42
               ],
               "normal":{
                  "x":-0.30901699437494745,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  9,
                  32,
                  59
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  9,
                  59,
                  40
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  20,
                  21,
                  52
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  20,
                  52,
                  48
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  26,
                  33,
                  30
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  26,
                  30,
                  29
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  26,
                  29,
                  27
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  3,
                  4,
                  5
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  3,
                  5,
                  6
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  27,
                  29,
                  44
               ],
               "normal":{
                  "x":0,
                  "y":0.2360679774997898,
                  "z":0
               }
            },
            {
               "vertices":[
                  27,
                  44,
                  46
               ],
               "normal":{
                  "x":0,
                  "y":0.2360679774997898,
                  "z":0
               }
            },
            {
               "vertices":[
                  50,
                  57,
                  56
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  50,
                  56,
                  55
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  50,
                  55,
                  58
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  26,
                  38,
                  51
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  26,
                  51,
                  33
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  45,
                  47,
                  58
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.19098300562505255,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  18,
                  28,
                  57
               ],
               "normal":{
                  "x":0,
                  "y":0,
                  "z":-0.2360679774997898
               }
            },
            {
               "vertices":[
                  18,
                  57,
                  50
               ],
               "normal":{
                  "x":0,
                  "y":0,
                  "z":-0.2360679774997898
               }
            },
            {
               "vertices":[
                  40,
                  59,
                  56
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.19098300562505255,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  31,
                  48,
                  37
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  31,
                  37,
                  43
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  7,
                  8,
                  9
               ],
               "normal":{
                  "x":0,
                  "y":-0.2360679774997898,
                  "z":0
               }
            },
            {
               "vertices":[
                  7,
                  9,
                  10
               ],
               "normal":{
                  "x":0,
                  "y":-0.2360679774997898,
                  "z":0
               }
            },
            {
               "vertices":[
                  36,
                  41,
                  42
               ],
               "normal":{
                  "x":-0.2360679774997898,
                  "y":0,
                  "z":0
               }
            },
            {
               "vertices":[
                  36,
                  42,
                  43
               ],
               "normal":{
                  "x":-0.2360679774997898,
                  "y":0,
                  "z":0
               }
            },
            {
               "vertices":[
                  24,
                  46,
                  47
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  24,
                  47,
                  45
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  4,
                  30,
                  5
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.19098300562505255,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  15,
                  47,
                  46
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  15,
                  46,
                  44
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  15,
                  44,
                  16
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  15,
                  50,
                  58
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  15,
                  58,
                  47
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  24,
                  45,
                  41
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  24,
                  41,
                  36
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  24,
                  36,
                  25
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  11,
                  14,
                  19
               ],
               "normal":{
                  "x":0.30901699437494745,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  3,
                  6,
                  39
               ],
               "normal":{
                  "x":0.30901699437494745,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  1,
                  39,
                  6
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  1,
                  6,
                  2
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  8,
                  32,
                  9
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.30901699437494745,
                  "z":0
               }
            },
            {
               "vertices":[
                  11,
                  12,
                  13
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  11,
                  13,
                  14
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  16,
                  22,
                  17
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.19098300562505255,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  0,
                  21,
                  20
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  0,
                  20,
                  8
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  0,
                  8,
                  7
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  12,
                  34,
                  13
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":-0.19098300562505255,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  35,
                  40,
                  56
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  35,
                  56,
                  57
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  0,
                  7,
                  54
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  0,
                  54,
                  1
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  15,
                  16,
                  17
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  15,
                  17,
                  18
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  3,
                  19,
                  22
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  3,
                  22,
                  23
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  3,
                  23,
                  4
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  7,
                  10,
                  54
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.30901699437494745,
                  "z":0
               }
            },
            {
               "vertices":[
                  41,
                  45,
                  58
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  41,
                  58,
                  55
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  3,
                  39,
                  11
               ],
               "normal":{
                  "x":0.2360679774997898,
                  "y":0,
                  "z":0
               }
            },
            {
               "vertices":[
                  3,
                  11,
                  19
               ],
               "normal":{
                  "x":0.2360679774997898,
                  "y":0,
                  "z":0
               }
            },
            {
               "vertices":[
                  14,
                  17,
                  22
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  14,
                  22,
                  19
               ],
               "normal":{
                  "x":0.19098300562505255,
                  "y":0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  0,
                  2,
                  53
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  0,
                  53,
                  21
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  49,
                  51,
                  52
               ],
               "normal":{
                  "x":0,
                  "y":0,
                  "z":0.2360679774997898
               }
            },
            {
               "vertices":[
                  49,
                  52,
                  53
               ],
               "normal":{
                  "x":0,
                  "y":0,
                  "z":0.2360679774997898
               }
            },
            {
               "vertices":[
                  31,
                  43,
                  42
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  31,
                  42,
                  59
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  31,
                  59,
                  32
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  15,
                  18,
                  50
               ],
               "normal":{
                  "x":0,
                  "y":0.1180339887498949,
                  "z":-0.30901699437494745
               }
            },
            {
               "vertices":[
                  42,
                  55,
                  56
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  42,
                  56,
                  59
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.07294901687515765,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  4,
                  23,
                  29
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  4,
                  29,
                  30
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  25,
                  38,
                  26
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":0.19098300562505255,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  13,
                  28,
                  18
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  13,
                  18,
                  17
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  13,
                  17,
                  14
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":-0.1180339887498949
               }
            },
            {
               "vertices":[
                  8,
                  20,
                  31
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  8,
                  31,
                  32
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  23,
                  44,
                  29
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.30901699437494745,
                  "z":0
               }
            },
            {
               "vertices":[
                  24,
                  27,
                  46
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.30901699437494745,
                  "z":0
               }
            },
            {
               "vertices":[
                  37,
                  48,
                  52
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  37,
                  52,
                  51
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  37,
                  51,
                  38
               ],
               "normal":{
                  "x":-0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  20,
                  48,
                  31
               ],
               "normal":{
                  "x":-0.19098300562505255,
                  "y":-0.19098300562505255,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  24,
                  25,
                  26
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  24,
                  26,
                  27
               ],
               "normal":{
                  "x":-0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":0.07294901687515765
               }
            },
            {
               "vertices":[
                  16,
                  44,
                  23
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  16,
                  23,
                  22
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  13,
                  34,
                  35
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  13,
                  35,
                  28
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":-0.1180339887498949,
                  "z":-0.19098300562505255
               }
            },
            {
               "vertices":[
                  10,
                  34,
                  12
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  10,
                  12,
                  54
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.19098300562505255,
                  "z":-0.07294901687515765
               }
            },
            {
               "vertices":[
                  2,
                  6,
                  5
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  2,
                  5,
                  49
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  2,
                  49,
                  53
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  36,
                  43,
                  37
               ],
               "normal":{
                  "x":-0.30901699437494745,
                  "y":0,
                  "z":0.1180339887498949
               }
            },
            {
               "vertices":[
                  5,
                  30,
                  33
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  5,
                  33,
                  49
               ],
               "normal":{
                  "x":0.07294901687515765,
                  "y":0.1180339887498949,
                  "z":0.19098300562505255
               }
            },
            {
               "vertices":[
                  1,
                  54,
                  12
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  1,
                  12,
                  11
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  1,
                  11,
                  39
               ],
               "normal":{
                  "x":0.1180339887498949,
                  "y":-0.07294901687515765,
                  "z":0
               }
            },
            {
               "vertices":[
                  28,
                  35,
                  57
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":-0.30901699437494745
               }
            },
            {
               "vertices":[
                  21,
                  53,
                  52
               ],
               "normal":{
                  "x":0,
                  "y":-0.1180339887498949,
                  "z":0.30901699437494745
               }
            }
         ]
      }
   ],
   "segments":[],
   "balls":[
      {
         "render":"ball",
         "center":{
            "x":-11.090169943749475,
            "y":0,
            "z":4.23606797749979
         },
         "id":"d2e12ce6-b588-49fd-96c2-fe02487caf6b",
         "shape":"1f591b29-a875-48c4-8259-aaf2470cc83b",
         "color":"#FFFFFF"
      },
      {
         "render":"ball",
         "center":{
            "x":0,
            "y":-4.23606797749979,
            "z":-11.090169943749475
         },
         "id":"1a0a5ae3-0225-4ff9-b171-bc825773fc86",
         "shape":"1f591b29-a875-48c4-8259-aaf2470cc83b",
         "color":"#FFFFFF"
      },
      {
         "render":"ball",
         "center":{
            "x":6.854101966249685,
            "y":-6.854101966249685,
            "z":-6.854101966249685
         },
         "id":"278ab2ac-085e-4427-b410-7adf59ebf5ad",
         "shape":"1f591b29-a875-48c4-8259-aaf2470cc83b",
         "color":"#FFFFFF"
      },
      {
         "render":"ball",
         "center":{
            "x":-6.854101966249685,
            "y":-6.854101966249685,
            "z":-6.854101966249685
         },
         "id":"3efc2c33-4df1-4b55-bce9-fc27e7012f10",
         "shape":"1f591b29-a875-48c4-8259-aaf2470cc83b",
         "color":"#FFFFFF"
      }
   ]
}

const reducer = (state = {
  modelUrl: "",
  connectionLive: false,
  segments: defaultModel.segments,
  balls: defaultModel.balls,
  shapes: defaultModel.shapes,
  lastError: null
}, action) => {
  switch (action.type) {

    case OPEN_URL:
      return {
        ...state,
        modelUrl: action.url
      }

    case CLOSE_VIEW:
      return {
        ...state,
				modelUrl: "",
        connectionLive: false,
        segments: defaultModel.segments,
        balls: defaultModel.balls,
        shapes: defaultModel.shapes
      }

    case ActionTypes.WEBSOCKET_CONNECTED:
      return {
        ...state,
        connectionLive: true,
        shapes: [],
        balls: [],
        segments: []
      }

		case ActionTypes.WEBSOCKET_ERROR:
			return {
				...state,
				lastError: action.error
			}

		case ActionTypes.WEBSOCKET_DISCONNECTED:
			return {
				...state,
        connectionLive: false,
        segments: defaultModel.segments,
        balls: defaultModel.balls,
        shapes: defaultModel.shapes
			}

		case ActionTypes.SEND_DATA_TO_WEBSOCKET:
			return {
				...state
			}

		case ActionTypes.RECEIVED_WEBSOCKET_DATA:
      const parsed = action.payload;
      if ( parsed.render ) {
				if ( parsed.render === 'segment' ) {
					return {
						...state,
						segments: [
							...state.segments,
							parsed
						]
					}
				} else if ( parsed.render === 'ball' ) {
					return {
						...state,
						balls: [
							...state.balls,
							parsed
						]
					}
				} else if ( parsed.render === 'shape' ) {
					return {
						...state,
						shapes: [
							...state.shapes,
							parsed.shape
						]
					}
				} else if ( parsed.render === 'delete' ) {
				  let index = state.segments.findIndex( item => ( item.id === parsed.id ) )
				  if ( index >= 0 ) {
				  	console.log( 'deleting segment' );
						return {
							...state,
							segments: [
								...state.segments.slice(0,index),
								...state.segments.slice(index+1)
							]
						}
					}
				  index = state.balls.findIndex( item => ( item.id === parsed.id ) )
				  if ( index >= 0 ) {
				  	console.log( 'deleting ball' );
						return {
							...state,
							balls: [
								...state.balls.slice(0,index),
								...state.balls.slice(index+1)
							]
						}
					}
					return state
				} else {
					return state
				}
      } else {
      	console.log( parsed.info );
				return state
      }

    default:
      return state
  }
}

export default reducer

